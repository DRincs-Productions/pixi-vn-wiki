---
title: æœ€åˆã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒ™ãƒ«ã‚’ä½œæˆã™ã‚‹
description: Pixiâ€™VN ã‚’ä½¿ç”¨ã—ã¦ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒ™ãƒ«ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã€ãƒŠãƒ©ãƒ†ã‚£ãƒ–ã€ã‚¢ã‚»ãƒƒãƒˆã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’å«ã‚€ï¼‰ã€‚
---

import { TSVisualNovelExample } from "@/components/vn-examples";
import { InkVisualNovelExample } from "@/components/vn-ink-examples";

ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€åˆã‚ã¦ã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒ™ãƒ«ã‚’ä½œæˆã™ã‚‹æ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚

**ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒ™ãƒ«ã¨ã¯ï¼Ÿ** ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒ™ãƒ«ï¼ˆVNï¼‰ã¯ãƒ‡ã‚¸ã‚¿ãƒ«ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ•ã‚£ã‚¯ã‚·ãƒ§ãƒ³ã®å½¢å¼ã§ã™ã€‚ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒ™ãƒ«ã¯ã—ã°ã—ã°ãƒ“ãƒ‡ã‚ªã‚²ãƒ¼ãƒ ã®ä¸€ç¨®ã¨è¦‹ãªã•ã‚Œã¾ã™ãŒã€å¿…ãšã—ã‚‚ã‚²ãƒ¼ãƒ ã¨ã—ã¦åˆ†é¡ã•ã‚Œã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ãƒ†ã‚­ã‚¹ãƒˆã®ãƒŠãƒ©ãƒ†ã‚£ãƒ–ã«ã€é™æ­¢ç”»ã¾ãŸã¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”»åƒã€ãã—ã¦ã•ã¾ã–ã¾ãªç¨‹åº¦ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’çµ„ã¿åˆã‚ã›ãŸå½¢å¼ã§ã™ã€‚ è‹±èªã§ã¯ â€œnovel gameâ€ ã¨å‘¼ã°ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã€ã“ã‚Œã¯å’Œè£½è‹±èªã€Œãƒãƒ™ãƒ«ã‚²ãƒ¼ãƒ ã€ï¼ˆnoberu gÄ“muï¼‰ã‚’è»¢å†™ã—ãŸè¡¨ç¾ã§ã™ã€‚

å­¦ç¿’ç”¨ã¨ã—ã¦ã€ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ Pixiâ€™VN ã‚’ä½¿ç”¨ã—ã¦ 
[Breakdown](https://joshpowlison.itch.io/breakdown) ã‚’å†ç¾ã—ã¾ã™ã€‚ Breakdown ã¯ã€ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒ™ãƒ«ãŒå‚™ãˆã‚‹ã¹ãã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’æŒã¤çŸ­ã„ç‰©èªã§ã™ã€‚ Breakdown ã®ä½œè€…ã§ã‚ã‚‹ Josh Powlison ã‹ã‚‰ã€æ•™è‚²ç›®çš„ã§ã“ã®ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹è¨±å¯ã‚’å¾—ã¦ã„ã¾ã™ â¤ï¸ã€‚

Pixiâ€™VN ã§ã¯ã€1 ã¤ã¾ãŸã¯è¤‡æ•°ã® <DynamicLink href="/start/narration">åˆ©ç”¨å¯èƒ½ãªãƒŠãƒ©ãƒ†ã‚£ãƒ–è¨€èª</DynamicLink> ã‚’é¸ã‚“ã§ç‰©èªã‚’æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€é–‹ç™ºã®å„ã‚¹ãƒ†ãƒƒãƒ—ã§åˆ©ç”¨å¯èƒ½ãªå„è¨€èªã®ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

## æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹

æœ€åˆã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ã€æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã™ã€‚ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€<DynamicLink href="/start#project-initialization">ã“ã¡ã‚‰ã‚’</DynamicLink>ã”è¦§ãã ã•ã„ã€‚ ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ **"Visual Novel - React"** ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

`Visual Novel -> React`

ä½œæˆãŒå®Œäº†ã—ãŸã‚‰ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã«ã‚ã‚‹ `README.md` ã‚’å¿…ãšèª­ã‚“ã§ãã ã•ã„ã€‚ ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ–¹ã«é–¢ã™ã‚‹é‡è¦ãªæƒ…å ±ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

æœ¬ã‚¬ã‚¤ãƒ‰ã®å ´åˆã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹å§‹ã™ã‚‹ã«ã¯æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ã§ååˆ†ã§ã™ï¼š

```bash
npm install
npm start
```

## ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½œæˆ

æ¬¡ã«ã€ã“ã®ç‰©èªã§ä½¿ç”¨ã™ã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’å®šç¾©ã—ã¾ã™ã€‚ ä½¿ç”¨ã™ã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¯ `/values/characters.ts` ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ã¾ã™ã€‚ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½œæˆã¨ä½¿ç”¨æ–¹æ³•ã«ã¤ã„ã¦ã®è©³ç´°ã¯ <DynamicLink href="/start/character">Characters</DynamicLink> ã‚’å‚ç…§ã—ã¦ãã ã•ã„

`mc` ã¨ã¯ä½•ã§ã—ã‚‡ã†ã‹ï¼Ÿ `mc` ã¯ "Main Character"ï¼ˆä¸»äººå…¬ï¼‰ã®ä¸€èˆ¬çš„ãªçœç•¥å½¢ã§ã™ã€‚ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒ™ãƒ«ã§ã¯ã€ä¸»äººå…¬ã®åå‰ã¨ã—ã¦ `mc` ã‚’ä½¿ç”¨ã™ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã™ã€‚

```ts tab="values/characters.ts"
import { RegisteredCharacters } from "@drincs/pixi-vn";
import Character from "../models/Character";

export const mc = new Character('mc', {
    name: 'Me',
});

export const james = new Character('james', {
    name: 'James',
    color: "#0084ac"
});

export const steph = new Character('steph', {
    name: 'Steph',
    color: "#ac5900"
});

export const sly = new Character('sly', {
    name: 'Sly',
    color: "#6d00ac"
});

RegisteredCharacters.add([mc, james, steph, sly]);
```

```ts tab="App.tsx"
// Remember to import the character file at least once into your project. // [!code focus]
import "./values/characters"; // [!code focus]

export default function App() {
return // ...
}
```

## ãƒŠãƒ©ãƒ†ã‚£ãƒ–ã®åˆç¨¿ã‚’æ›¸ã

<Callout title="Markup" type="info">

ã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ <DynamicLink href="/start/markup-markdown">Markdown</DynamicLink> ã¨<DynamicLink href="/start/markup-tailwindcss">Tailwind CSS</DynamicLink>ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ãŸã‚ã€ã“ã‚Œã‚‰ã‚’ä½¿ç”¨ã—ã¦ãƒŠãƒ©ãƒ†ã‚£ãƒ–ã‚’æ›¸ã‘ã¾ã™ã€‚

</Callout>

ã“ã“ã‹ã‚‰ã€ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒ™ãƒ«ã® <DynamicLink href="/start/narration">ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</DynamicLink> ã®ã€Œåˆç¨¿ã€ã‚’æ›¸ãå§‹ã‚ã¾ã™ã€‚
æœ€åˆã® <DynamicLink href="/start/labels">`label`</DynamicLink> ã‚’ `start` ã¨ã—ã¦ä½œæˆã—ã€ã‚²ãƒ¼ãƒ ã®å§‹ã¾ã‚Šã¨ã—ã¾ã™ã€‚ ãã®å¾Œã€<DynamicLink href="/start/dialogue">ãƒ€ã‚¤ã‚¢ãƒ­ã‚°</DynamicLink> ã‚’è¨˜è¿°ã—ã¦ç‰©èªã‚’é€²ã‚ã¾ã™ã€‚

ã“ã‚Œã¯ãã®ä¾‹ã§ã™ï¼š

```ink tab="ink" title="ink/start.ink" groupId="narrative_language"
=== start ===
james: You're my roommate's replacement, huh?
james: Don't worry, you don't have much to live up to. Just don't use heroin like the last guy, and you' fine!
mc: ...

He thrusts out his hand.

james: James!
mc: ...Peter.

I take his hand and shake.

james: Ooh, Peter! Nice, firm handshake! The last quy always gave me the dead fish. I already think we'r gonna get along fine.
james: Come on in and... 
james: ...
james: I know you're both watching, come on out already!

sly: I just wanted to see what the new guy was like. Hey, you, Peter- be nice to our little brother, or you'll have to deal with *us*.
mc: ...
james: Peter, this is Sly. Yes, that is her real name.

I put out my hand.

sly: I'm not shakin' your hand until I decide you're an all-right dude. Sorry, policy.
mc: Fair enough, I'm a pretty scary guy, or so l've been told.
james: The redhead behind her is Stephanie.
// Example of using Tailwind CSS
steph: <span class="inline-block motion-translate-y-loop-25">Hey</span>! Everyone calls me Steph. I'll shake your hand.

// ...
-> DONE
```

```ts tab="Typescript" title="labels/startLabel.ts" groupId="narrative_language"
const startLabel = newLabel("start", [
    () => narration.dialogue = { character: james, text: `You're my roommate's replacement, huh?` },
    () => narration.dialogue = { character: james, text: `Don't worry, you don't have much to live up to. Just don't use heroin like the last guy, and you' fine!` },
    () => narration.dialogue = { character: mc, text: `...` },
    () => { narration.dialogue = "He thrusts out his hand." },
    () => narration.dialogue = { character: james, text: `James!` },
    () => narration.dialogue = { character: mc, text: `...Peter.` },
    () => { narration.dialogue = "I take his hand and shake." },
    () => narration.dialogue = { character: james, text: `Ooh, Peter! Nice, firm handshake! The last quy always gave me the dead fish. I already think we'r gonna get along fine.` },
    () => narration.dialogue = { character: james, text: `Come on in and...` },
    () => narration.dialogue = { character: james, text: `...` },
    () => narration.dialogue = { character: james, text: `I know you're both watching, come on out already!` },
    () => narration.dialogue = { character: james, text: `I just wanted to see what the new guy was like. Hey, you, Peter- be nice to our little brother, or you'll have to deal with *us*.` },
    () => narration.dialogue = { character: mc, text: `...` },
    () => narration.dialogue = { character: james, text: `Peter, this is Sly. Yes, that is her real name.` },
    () => { narration.dialogue = "I put out my hand." },
    () => narration.dialogue = { character: james, text: `I'm not shakin' your hand until I decide you're an all-right dude. Sorry, policy.` },
    () => narration.dialogue = { character: mc, text: `Fair enough, I'm a pretty scary guy, or so l've been told.` },
    () => narration.dialogue = { character: james, text: `The redhead behind her is Stephanie.` },
    // Example of using Tailwind CSS
    () => narration.dialogue = { character: steph, text: `<span class="inline-block motion-translate-y-loop-25">Hey</span>! Everyone calls me Steph. I'll shake your hand.` },
    // ...
]);
export default startLabel;
```

### ãƒŠãƒ©ãƒ†ã‚£ãƒ–ã‚’ `labels` ã«åˆ†å‰²ã™ã‚‹

éå¸¸ã«é•·ã„ `labels` ã‚’ä½œæˆã™ã‚‹ã“ã¨ã¯æ¨å¥¨ã•ã‚Œã¾ã›ã‚“ï¼ˆãã‚ŒãŒç·šå½¢ã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒ™ãƒ«ã§ã‚ã£ã¦ã‚‚åŒæ§˜ã§ã™ï¼‰ã€‚ãã®ä»£ã‚ã‚Šã«ã€å°ã•ãª `labels` ã‚’è¤‡æ•°ä½œæˆã—ã€å¿…è¦ã«å¿œã˜ã¦ <DynamicLink href="/start/labels-flow">ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡æ©Ÿèƒ½</DynamicLink> ã‚’ä½¿ç”¨ã—ã¦å‘¼ã³å‡ºã™æ–¹æ³•ãŒä¸€èˆ¬çš„ã§ã™ã€‚

ã“ã®ãŸã‚ã€ã“ã®ã‚¬ã‚¤ãƒ‰ã®ç‰©èªã¯ç·šå½¢ã§ã‚ã‚‹å ´åˆã§ã‚‚ 2 ã¤ã® `labels` ã«åˆ†å‰²ã—ã¾ã™ã€‚æœ€åˆã® `label` ã¯å…ˆã»ã©ä½œæˆã—ãŸã‚‚ã®ï¼ˆ`start`ï¼‰ã§ã€2 ã¤ç›®ã¯`second_part` ã¨å‘¼ã°ã‚Œã¾ã™ã€‚

ã“ã‚Œã¯ãã®ä¾‹ã§ã™ï¼š

```ink tab="ink" title="ink/start.ink" groupId="narrative_language"
=== start ===
james: You're my roommate's replacement, huh?
james: Don't worry, you don't have much to live up to. Just don't use heroin like the last guy, and you' fine!
mc: ...

He thrusts out his hand.

james: James!
mc: ...Peter.

// ...
-> second_part

=== second_part ===

She enters my room before I'VE even had a chance to. \\n\\n...I could've just come back and gotten the platter later...
She sets it on a desk. I throw my two paper bags down beside the empty bed.

steph: They got you a new mattress, right? That last guy was a druggie, did James tell you that?
sly: *We're* the reason he got expelled!
steph: Sly! If word gets out about that... well, actually, it wouldn't matter, *he's* the one who shot himself up.

I'm fumbling for a new subject.

// ...
-> DONE
```

```ts tab="Typescript" title="labels/startLabel.ts" groupId="narrative_language"
const startLabel = newLabel("start", [
    () => narration.dialogue = { character: james, text: `You're my roommate's replacement, huh?` },
    () => narration.dialogue = { character: james, text: `Don't worry, you don't have much to live up to. Just don't use heroin like the last guy, and you' fine!` },
    () => narration.dialogue = { character: mc, text: `...` },
    () => { narration.dialogue = "He thrusts out his hand." },
    () => narration.dialogue = { character: james, text: `James!` },
    () => narration.dialogue = { character: mc, text: `...Peter.` },
    // ...
    async (props) => await narration.jump(secondPart, props),
]);
export default startLabel;

const secondPart = newLabel("second_part", [
    () => { narration.dialogue = `She enters my room before I'VE even had a chance to. \n\n...I could've just come back and gotten the platter later...` },
    () => { narration.dialogue = `She sets it on a desk. I throw my two paper bags down beside the empty bed.` },
    () => narration.dialogue = { character: steph, text: `They got you a new mattress, right? That last guy was a druggie, did James tell you that?` },
    () => narration.dialogue = { character: sly, text: `*We're* the reason he got expelled!` },
    () => narration.dialogue = { character: steph, text: `Sly! If word gets out about that... well, actually, it wouldn't matter, *he's* the one who shot himself up.` },
    () => { narration.dialogue = `I'm fumbling for a new subject.` },
    // ...
]);
```

## é¸æŠè‚¢ãƒ¡ãƒ‹ãƒ¥ãƒ¼

æ¬¡ã«ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ç‰©èªã‚’ç¶šã‘ã‚‹ã‹ã©ã†ã‹ã‚’å°‹ã­ã¾ã™ã€‚

ã“ã‚Œã‚’è¡Œã†ã«ã¯ <DynamicLink href="/start/choices">é¸æŠè‚¢ãƒ¡ãƒ‹ãƒ¥ãƒ¼</DynamicLink> ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

ã“ã‚Œã¯ãã®ä¾‹ã§ã™ï¼š

```ink tab="ink" title="ink/start.ink" groupId="narrative_language"
=== start ===
// ...

You want continue to the next part?
* Yes, I want to continue
-> second_part
* No, I want to stop here
-> END

=== second_part ===

// ...
-> DONE
```

```ts tab="Typescript" title="labels/startLabel.ts" groupId="narrative_language"
const startLabel = newLabel("start", [
    // ...
    async () => {
        narration.dialogue = `You want continue to the next part?`
        narration.choices = [
            newChoiceOption("Yes, I want to continue", secondPart, {}, { type: "jump" }),
            newCloseChoiceOption("No, I want to stop here"),
        ]
    },
]);
export default startLabel;

const secondPart = newLabel("second_part", [
    // ...
]);
```

## ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ã‚’ç·¨é›†ã—å¤‰æ•°ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹

æ¬¡ã«ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒ `mc` ã®åå‰ã‚’å¤‰æ›´ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

ã“ã‚Œã«ã¯ <DynamicLink href="/start/input">Pixiâ€™VN ã®å…¥åŠ›ãƒœãƒƒã‚¯ã‚¹</DynamicLink> ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å…¥åŠ›å€¤ã‚’å–å¾—ã—ãŸå¾Œã€<DynamicLink href="/start/character#edit">ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åã‚’ç·¨é›†</DynamicLink>ã§ãã¾ã™ã€‚

ã“ã‚Œã¯ãã®ä¾‹ã§ã™ï¼š

```ink tab="ink" title="ink/start.ink" groupId="narrative_language"
=== start ===
// ...

He thrusts out his hand.
# request input type string default Peter
What is your name?
# rename mc { _input_value_ }

// ...
-> DONE
```

```ts tab="Typescript" title="labels/startLabel.ts" groupId="narrative_language"
const startLabel = newLabel("start", [
    // ...
    () => { narration.dialogue = `He thrusts out his hand.` },
    () => {
        narration.requestInput({ type: "string" }, "Peter")
        narration.dialogue = `What is your name?`
    },
    () => {
        mc.name = narration.inputValue as string
    },
    // ...
]);
export default startLabel;
```

ãã®å¾Œã€æ›´æ–°ã•ã‚ŒãŸåå‰ã‚’ <DynamicLink href="/start/character#use">ãƒ€ã‚¤ã‚¢ãƒ­ã‚°å†…ã§ä½¿ç”¨</DynamicLink> ã§ãã¾ã™ã€‚

ã“ã‚Œã¯ãã®ä¾‹ã§ã™ï¼š

```ink tab="ink" title="ink/start.ink" groupId="narrative_language"
VAR steph_fullname = "Stephanie"

=== start ===
// ...

sly: I just wanted to see what the new guy was like. Hey, you, [mc]- be nice to our little brother, or you'll have to deal with *us*.
mc: ...
james: [mc], this is [sly]. Yes, that is her real name.

I put out my hand.

sly: I'm not shakin' your hand until I decide you're an all-right dude. Sorry, policy.
mc: Fair enough, I'm a pretty scary guy, or so l've been told.
james: The redhead behind her is [steph_fullname].
steph: Hey! Everyone calls me [steph]. I'll shake your hand.

She puts out her hand, and I take it.

mc: Thanks, good to meet you, [steph_fullname].
steph: WOW, that is, like, the most perfect handshake I've ever had! Firm, but also gentle. [sly], you *gotta* shake his hand!

// ...
-> DONE
```

```ts tab="Typescript" title="labels/startLabel.ts" groupId="narrative_language"
const steph_fullname = "Stephanie";

const startLabel = newLabel("start", [
    // ...
    () => narration.dialogue = { character: sly, text: `I just wanted to see what the new guy was like. Hey, you, ${mc.name}- be nice to our little brother, or you'll have to deal with *us*.` },
    () => narration.dialogue = { character: mc, text: `...` },
    () => narration.dialogue = { character: james, text: `${mc.name}, this is ${sly.name}. Yes, that is her real name.` },
    () => { narration.dialogue = `I put out my hand.` },
    () => narration.dialogue = { character: sly, text: `I'm not shakin' your hand until I decide you're an all-right dude. Sorry, policy.` },
    () => narration.dialogue = { character: mc, text: `Fair enough, I'm a pretty scary guy, or so I've been told.` },
    () => narration.dialogue = { character: james, text: `The redhead behind her is ${steph_fullname}.` },
    () => narration.dialogue = { character: steph, text: `Hey! Everyone calls me ${steph.name}. I'll shake your hand.` },
    () => { narration.dialogue = `She puts out her hand, and I take it.` },
    () => narration.dialogue = { character: mc, text: `Thanks, good to meet you, ${steph_fullname}.` },
    () => narration.dialogue = { character: steph, text: `WOW, that is, like, the most perfect handshake I've ever had! Firm, but also gentle. ${sly.name}, you *gotta* shake his hand!` },
    // ...
]);
export default startLabel;
```

## Dialogue ã®ã€Œglueã€æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹

è¦–è¦šå°èª¬ã§ã¯ã€ç¾åœ¨ã®å¯¾è©±ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã“ã¨ãŒã‚ˆãå½¹ç«‹ã¡ã¾ã™ã€‚ ä¾‹ãˆã°ã€ä¼šè©±ã‚’ä¸€æ™‚åœæ­¢ã—ã€ãã®å¾Œã®`step`ã§ç¶šã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ã“ã‚Œã‚’è¡Œã†ãŸã‚ã«ã€<DynamicLink href="/start/dialogue#dialogue-glue">æ¥ç€æ©Ÿèƒ½</DynamicLink>ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

ã“ã‚Œã¯ãã®ä¾‹ã§ã™ï¼š

```ink tab="ink" title="ink/start.ink" groupId="narrative_language"
=== start ===
// ...

james: Ooh, [mc]! Nice, firm handshake!
<>The last guy always gave me the dead fish.
<>I already think we're gonna get along fine.
james: Come on in and...

// ...
-> DONE
```

```ts tab="Typescript" title="labels/startLabel.ts" groupId="narrative_language"
const startLabel = newLabel("start", [
    // ...
    async () => narration.dialogue = { character: james, text: `Ooh, ${mc.name}! Nice, firm handshake!` },
    async () => {
        narration.dialogGlue = true
        narration.dialogue = `The last guy always gave me the dead fish.`
    },
    async () => {
        narration.dialogGlue = true
        narration.dialogue = `I already think we're gonna get along fine.`
    },
    async () => narration.dialogue = { character: james, text: `Come on in and...` },
    // ...
]);
export default startLabel;
```

## ã‚¢ã‚»ãƒƒãƒˆã‚’å®šç¾©ã—ã€ãã‚Œã‚‰ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

<Callout type="info">

ã‚¢ã‚»ãƒƒãƒˆï¼ˆç”»åƒã€GIFã€å‹•ç”»ãªã©ï¼‰ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¦æ“ä½œã™ã‚‹ã«ã¯ `Assets`ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ `Assets`ã¯å¤šãã®æ©Ÿèƒ½ã‚’æŒã¤ã‚¯ãƒ©ã‚¹ã§ã€PixiJSãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‹ã‚‰æ¥ã¦ã„ã¾ã™ã€‚è©³ç´°ã«ã¤ã„ã¦ã¯[ã“ã¡ã‚‰](https://pixijs.com/8.x/guides/components/assets)ã‚’ãŠèª­ã¿ãã ã•ã„ã€‚

</Callout>

æœ€åˆã®ã‚¹ãƒ†ãƒƒãƒ—ã®ä¸€ã¤ã¯ã€è¦–è¦šå°èª¬ã®ã‚¢ã‚»ãƒƒãƒˆã‚’ä¿å­˜ã™ã‚‹å ´æ‰€ã‚’é¸ã¶ã“ã¨ã§ã™ã€‚ ã“ã®å ´åˆã€ã‚¢ã‚»ãƒƒãƒˆã¯Firebaseã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ï¼‰ã«ä¿å­˜ã—ã¾ã™ã€‚ ãŠå¥½ããªãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«ã‚¢ã‚»ãƒƒãƒˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚è©³ã—ãã¯<DynamicLink href="/start/assets">ã“ã¡ã‚‰</DynamicLink>ã‚’ã”è¦§ãã ã•ã„ã€‚

ã‚¢ã‚»ãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹å‰ã«ã€<DynamicLink href="/start/assets-management#initialize-the-asset-matrix-at-project-start">ã‚¢ã‚»ãƒƒãƒˆãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã‚’åˆæœŸåŒ–ã™ã‚‹</DynamicLink>ã“ã¨ãŒå¼·ãæ¨å¥¨ã•ã‚Œã¾ã™ã€‚

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€`assets/manifest.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã«ç¤ºã™ã‚ˆã†ã«ã€`onLoadingLabel`ã®ã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã€ç¾åœ¨ã®`label`ã®IDã«ç­‰ã—ã„ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’æŒã¤ã€Œãƒãƒ³ãƒ‰ãƒ«ã‚¢ã‚»ãƒƒãƒˆã€ã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ãƒ­ãƒ¼ãƒ‰ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚ ã—ãŸãŒã£ã¦ã€`manifest`ã«å„`label`ã«å¯¾ã—ã¦ã‚¨ã‚¤ãƒªã‚¢ã‚¹ãŒ`label`ã®IDã¨ç­‰ã—ãã€ãã®`label`ã§ä½¿ç”¨ã•ã‚Œã‚‹ç”»åƒã‚’å«ã‚€ã€Œãƒãƒ³ãƒ‰ãƒ«ã‚¢ã‚»ãƒƒãƒˆã€ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¾ã™ã€‚

ã“ã‚Œã¯ãã®ä¾‹ã§ã™ï¼š

```ts tab="assets/manifest.ts"
import { AssetsManifest } from "@drincs/pixi-vn";
import { MAIN_MENU_ROUTE } from "../constans";

/**
 * Manifest for the assets used in the game.
 * You can read more about the manifest here: https://pixijs.com/8.x/guides/components/assets#loading-multiple-assets
 */
const manifest: AssetsManifest = {
    bundles: [
        // screens
        {
            name: MAIN_MENU_ROUTE,
            assets: [
                {
                    alias: "background_main_menu",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fmain-menu.webp?alt=media",
                },
            ],
        },
        // labels
        {
            name: "start",
            assets: [
                {
                    alias: "bg01-hallway",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fbg01-hallway.webp?alt=media",
                },
            ],
        },
        {
            name: "second_part",
            assets: [
                {
                    alias: "bg02-dorm",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fbg02-dorm.webp?alt=media",
                },
            ],
        },
        // characters
        {
            name: "fm01",
            assets: [
                {
                    alias: "fm01-body",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-body.webp?alt=media",
                },
                {
                    alias: "fm01-eyes-grin",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-eyes-grin.webp?alt=media",
                },
                {
                    alias: "fm01-eyes-smile",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-eyes-smile.webp?alt=media",
                },
                {
                    alias: "fm01-eyes-soft",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-eyes-soft.webp?alt=media",
                },
                {
                    alias: "fm01-eyes-upset",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-eyes-upset.webp?alt=media",
                },
                {
                    alias: "fm01-eyes-wow",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-eyes-wow.webp?alt=media",
                },
                {
                    alias: "fm01-mouth-grin00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-mouth-grin00.webp?alt=media",
                },
                {
                    alias: "fm01-mouth-serious00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-mouth-serious00.webp?alt=media",
                },
                {
                    alias: "fm01-mouth-serious01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-mouth-serious01.webp?alt=media",
                },
                {
                    alias: "fm01-mouth-smile00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-mouth-smile00.webp?alt=media",
                },
                {
                    alias: "fm01-mouth-smile01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-mouth-smile01.webp?alt=media",
                },
                {
                    alias: "fm01-mouth-soft00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-mouth-soft00.webp?alt=media",
                },
                {
                    alias: "fm01-mouth-soft01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-mouth-soft01.webp?alt=media",
                },
                {
                    alias: "fm01-mouth-upset00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-mouth-upset00.webp?alt=media",
                },
                {
                    alias: "fm01-mouth-upset01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-mouth-upset01.webp?alt=media",
                },
                {
                    alias: "fm01-mouth-wow01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm01%2Ffm01-mouth-wow01.webp?alt=media",
                },
            ],
        },
        {
            name: "fm02",
            assets: [
                {
                    alias: "fm02-body",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-body.webp?alt=media",
                },
                {
                    alias: "fm02-eyes-bawl",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-eyes-bawl.webp?alt=media",
                },
                {
                    alias: "fm02-eyes-joy",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-eyes-joy.webp?alt=media",
                },
                {
                    alias: "fm02-eyes-nervous",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-eyes-nervous.webp?alt=media",
                },
                {
                    alias: "fm02-eyes-smile",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-eyes-smile.webp?alt=media",
                },
                {
                    alias: "fm02-eyes-upset",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-eyes-upset.webp?alt=media",
                },
                {
                    alias: "fm02-eyes-wow",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-eyes-wow.webp?alt=media",
                },
                {
                    alias: "fm02-mouth-cry01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-mouth-cry01.webp?alt=media",
                },
                {
                    alias: "fm02-mouth-nervous00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-mouth-nervous00.webp?alt=media",
                },
                {
                    alias: "fm02-mouth-nervous01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-mouth-nervous01.webp?alt=media",
                },
                {
                    alias: "fm02-mouth-smile00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-mouth-smile00.webp?alt=media",
                },
                {
                    alias: "fm02-mouth-smile01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-mouth-smile01.webp?alt=media",
                },
                {
                    alias: "fm02-mouth-upset00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-mouth-upset00.webp?alt=media",
                },
                {
                    alias: "fm02-mouth-upset01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-mouth-upset01.webp?alt=media",
                },
                {
                    alias: "fm02-mouth-wow01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Ffm02%2Ffm02-mouth-wow01.webp?alt=media",
                },
            ],
        },
        {
            name: "m01",
            assets: [
                {
                    alias: "m01-body",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-body.webp?alt=media",
                },
                {
                    alias: "m01-eyes-annoy",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-eyes-annoy.webp?alt=media",
                },
                {
                    alias: "m01-eyes-concern",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-eyes-concern.webp?alt=media",
                },
                {
                    alias: "m01-eyes-cry",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-eyes-cry.webp?alt=media",
                },
                {
                    alias: "m01-eyes-grin",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-eyes-grin.webp?alt=media",
                },
                {
                    alias: "m01-eyes-smile",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-eyes-smile.webp?alt=media",
                },
                {
                    alias: "m01-eyes-wow",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-eyes-wow.webp?alt=media",
                },
                {
                    alias: "m01-mouth-annoy00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-annoy00.webp?alt=media",
                },
                {
                    alias: "m01-mouth-annoy01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-annoy01.webp?alt=media",
                },
                {
                    alias: "m01-mouth-concern00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-concern00.webp?alt=media",
                },
                {
                    alias: "m01-mouth-concern01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-concern01.webp?alt=media",
                },
                {
                    alias: "m01-mouth-cry00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-cry00.webp?alt=media",
                },
                {
                    alias: "m01-mouth-cry01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-cry01.webp?alt=media",
                },
                {
                    alias: "m01-mouth-grin00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-grin00.webp?alt=media",
                },
                {
                    alias: "m01-mouth-neutral00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-neutral00.webp?alt=media",
                },
                {
                    alias: "m01-mouth-neutral01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-neutral01.webp?alt=media",
                },
                {
                    alias: "m01-mouth-smile00",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-smile00.webp?alt=media",
                },
                {
                    alias: "m01-mouth-smile01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-smile01.webp?alt=media",
                },
                {
                    alias: "m01-mouth-wow01",
                    src: "https://firebasestorage.googleapis.com/v0/b/pixi-vn.appspot.com/o/public%2Fbreakdown%2Fm01%2Fm01-mouth-wow01.webp?alt=media",
                },
            ],
        },
    ],
};
export default manifest;
```

```ts tab="utils/defineAssets.ts"
import { Assets } from "@drincs/pixi-vn";
import manifest from "../assets/manifest";

/**
 * Define all the assets that will be used in the game.
 * This function will be called before the game starts.
 * You can read more about assets management in the documentation: https://pixi-vn.web.app/start/assets-management.html
 */
export async function defineAssets() {
    Assets.init({ manifest });

    // The game will not start until these asserts are loaded.
    await Assets.loadBundle("main_menu");

    // The game will start immediately, but these asserts will be loaded in the background.
    // Assets.backgroundLoadBundle("main_menu");
    // Assets.backgroundLoad("background_main_menu");
}
```

```ts tab="src/main.ts"
import { Assets, canvas, Container, Game } from "@drincs/pixi-vn";
import { createRoot } from "react-dom/client";
import App from "./App";
import { CANVAS_UI_LAYER_NAME } from "./constans";
import "./index.css";
import "./values/characters";

// ...

Game.onLoadingLabel((_stepId, { id }) => { // [!code focus]
    Assets.backgroundLoadBundle(id); // [!code focus]
}); // [!code focus]
```

## èƒŒæ™¯ç”»åƒã¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒã‚’è¿½åŠ ã™ã‚‹

ã•ã‚ã€è¦–è¦šçš„ãªéƒ¨åˆ†ã«ã¤ã„ã¦ã‚‚è€ƒãˆã‚‹æ™‚ã§ã™ã€‚ èƒŒæ™¯ã¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’è¦–è¦šå°èª¬ã®ã‚­ãƒ£ãƒ³ãƒã‚¹ã«è¿½åŠ ã—ã¾ã™ã€‚

**ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ** ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã«ãŠã„ã¦ã€ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¯å¤§ããªã‚·ãƒ¼ãƒ³ã«çµ±åˆã•ã‚ŒãŸäºŒæ¬¡å…ƒãƒ“ãƒƒãƒˆãƒãƒƒãƒ—ã§ã‚ã‚Šã€æœ€ã‚‚å¤šãã¯2Dãƒ“ãƒ‡ã‚ªã‚²ãƒ¼ãƒ ã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

ç§ãŸã¡ã®å ´åˆã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã¯ä½“ã€ç›®ã€å£ã®3ã¤ã®ç”»åƒã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚ æ¬¡ã«ã€<DynamicLink href="/start/canvas-image-container">ImageContainer</DynamicLink>ã‚’ä½¿ç”¨ã—ã¦ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’æ§‹æˆã—ã¾ã™ã€‚ ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¿½åŠ æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€<DynamicLink href="/start/canvas-components">ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</DynamicLink>ã§ã•ã‚‰ã«æƒ…å ±ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã‚Œã¯ãã®ä¾‹ã§ã™ï¼š

```ink tab="ink" title="ink/start.ink" groupId="narrative_language"
=== start ===
# show image bg bg01-hallway
# show imagecontainer james [m01-body m01-eyes-smile m01-mouth-neutral01] xAlign 0.5 yAlign 1
james: You're my roommate's replacement, huh?
# show imagecontainer james [m01-body m01-eyes-grin m01-mouth-smile01]
james: Don't worry, you don't have much to live up to. Just don't use heroin like the last guy, and you'll be fine!
# show imagecontainer james [m01-body m01-eyes-smile m01-mouth-grin00]
mc: ...

// ...
-> DONE
```

```ts tab="Typescript" title="labels/startLabel.ts" groupId="narrative_language"
const startLabel = newLabel("start", [
    async () => {
        await showImage("bg", "bg01-hallway");
        await showImageContainer("james", ["m01-body", "m01-eyes-smile", "m01-mouth-neutral01"], { xAlign: 0.5, yAlign: 1 });
        narration.dialogue = { character: james, text: `You're my roommate's replacement, huh?` }
    },
    async () => {
        await showImageContainer("james", ["m01-body", "m01-eyes-grin", "m01-mouth-smile01"])
        narration.dialogue = { character: james, text: `Don't worry, you don't have much to live up to. Just don't use heroin like the last guy, and you'll be fine!` }
    },
    async () => {
        await showImageContainer("james", ["m01-body", "m01-eyes-smile", "m01-mouth-grin00"])
        narration.dialogue = { character: mc, text: `...` }
    },
    // ...
]);
export default startLabel;
```

## ã‚¹ãƒãƒ¼ãƒˆã‚¢ã‚»ãƒƒãƒˆãƒ­ãƒ¼ãƒ‰

ç§ãŸã¡ã®å ´åˆã€ã‚²ãƒ¼ãƒ ç”»åƒã¯ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆFirebaseï¼‰ã«ä¿å­˜ã—ã¾ã—ãŸã€‚ ã“ã®ãŸã‚ã€ã‚¢ã‚»ãƒƒãƒˆã®èª­ã¿è¾¼ã¿ã¯ã‚¿ã‚¤ãƒ ãƒªãƒ¼ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒéå‰°ãªèª­ã¿è¾¼ã¿ã‚’æ„Ÿã˜ãªã„ã‚ˆã†ã«ã€ã‚²ãƒ¼ãƒ ã®ç‰¹å®šã®ãƒ•ã‚§ãƒ¼ã‚ºã«ãã‚Œã‚‰ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ç§ã®å ´åˆã€`label`ã®æœ€åˆã«æœ€ã‚‚ä½¿ç”¨ã•ã‚Œã‚‹ç”»åƒã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

èª­ã¿è¾¼ã¿ã‚’ç®¡ç†ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€<DynamicLink href="/start/assets-management">ã“ã¡ã‚‰</DynamicLink>ã§è©³ç´°æƒ…å ±ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã‚Œã¯ãã®ä¾‹ã§ã™ï¼š

```ink tab="ink" title="ink/start.ink" groupId="narrative_language"
=== start ===
# lazyload bundle m01 fm01 fm02 // [!code focus]

# show image bg bg01-hallway
# show imagecontainer james [m01-body m01-eyes-smile m01-mouth-neutral01] xAlign 0.5 yAlign 1 with movein direction right speed 300
james: You're my roommate's replacement, huh?
# show imagecontainer james [m01-body m01-eyes-grin m01-mouth-smile01]
james: Don't worry, you don't have much to live up to. Just don't use heroin like the last guy, and you'll be fine!
# show imagecontainer james [m01-body m01-eyes-smile m01-mouth-grin00]
mc: ...

// ...
-> DONE
```

```ts tab="Typescript" title="labels/startLabel.ts" groupId="narrative_language"
const startLabel = newLabel("start", [
    // ...
], {
    onLoadingLabel: () => { // [!code focus]
        Assets.backgroundLoadBundle(["fm01", "fm02", "m01"]); // [!code focus]
    } // [!code focus]
});
export default startLabel;
```

## ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹

è¦–è¦šå°èª¬ã‚’ã‚ˆã‚Šãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ã«ã™ã‚‹ãŸã‚ã«ã€ç”»åƒã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã®ä½¿ç”¨ã«é–¢ã™ã‚‹è©³ç´°æƒ…å ±ã¯<DynamicLink href="/start/canvas-transition">ã“ã¡ã‚‰</DynamicLink>ã§è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã‚Œã¯ãã®ä¾‹ã§ã™ï¼š

```ink tab="ink" title="ink/start.ink" groupId="narrative_language"
=== start ===
// ...

# show image bg bg01-hallway
# show imagecontainer james [m01-body m01-eyes-smile m01-mouth-neutral01] xAlign 0.5 yAlign 1 with movein direction right speed 300
james: You're my roommate's replacement, huh?
# show imagecontainer james [m01-body m01-eyes-grin m01-mouth-smile01]
james: Don't worry, you don't have much to live up to. Just don't use heroin like the last guy, and you'll be fine!
# show imagecontainer james [m01-body m01-eyes-smile m01-mouth-grin00]
mc: ...

// ...
-> DONE
```

```ts tab="Typescript" title="labels/startLabel.ts" groupId="narrative_language"
const startLabel = newLabel("start", [
    async () => {
        await showImage("bg", "bg01-hallway");
        await moveIn(
            "james",
            {
                value: ["m01-body", "m01-eyes-smile", "m01-mouth-neutral01"],
                options: { xAlign: 0.5, yAlign: 1 },
            },
            { direction: "right", ease: "circInOut", type: "spring" }
        );
        narration.dialogue = { character: james, text: `You're my roommate's replacement, huh?` };
    },
    async () => {
        await showImageContainer("james", ["m01-body", "m01-eyes-grin", "m01-mouth-smile01"]);
        narration.dialogue = {
            character: james,
            text: `Don't worry, you don't have much to live up to. Just don't use heroin like the last guy, and you'll be fine!`,
        };
    },
    async () => {
        await showImageContainer("james", ["m01-body", "m01-eyes-smile", "m01-mouth-grin00"]);
        narration.dialogue = { character: mc, text: `...` };
    },
    // ...
]);
export default startLabel;
```

## ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ

è¦–è¦šå°èª¬ã‚’ã‚ˆã‚Šãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ã«ã™ã‚‹ãŸã‚ã«ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½¿ç”¨æ–¹æ³•ã«ã¤ã„ã¦ã®è©³ç´°ã¯<DynamicLink href="/start/canvas-animations-effects">ã“ã¡ã‚‰</DynamicLink>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

å¤šãã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€TypeScriptã®ä½¿ç”¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚ˆã‚Šå¤šãã®åˆ¶å¾¡ã€æ©Ÿèƒ½ã€ãŠã‚ˆã³å‹ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚

ã“ã®ä¾‹ã§ã¯ã€ç§ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒ`steph`ã‚’ã‚·ãƒ¼ãƒ³ã‹ã‚‰å–ã‚Šå‡ºã—ã€æ¬¡ã®`step`ã§å†æŒ¿å…¥ã—ã¾ã™ã€‚ å½¼å¥³ãŒæ­£ã—ã„æ–¹å‘ã‚’å‘ã„ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã€xè»¸ã§å½¼å¥³ã‚’ãƒŸãƒ©ãƒ¼ã—ã¾ã™ã€‚

`steph`ã‚’å‡ºã—ãŸã‚Šå…¥ã‚ŒãŸã‚Šã™ã‚‹ãŸã‚ã«ã€`moveOut`é–¢æ•°ã¨`moveIn`é–¢æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ ãƒŸãƒ©ãƒ¼åŠ¹æœã®ãŸã‚ã«ã€`canvas.animate`é–¢æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

ã¾ãšã€`canvas.animate`é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã€`scaleX`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’`-1`ï¼ˆãƒŸãƒ©ãƒ¼ï¼‰ã‹ã‚‰`1`ã«è¨­å®šã—ã¾ã™ã€‚`autoplay: false`ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ã™ãã«ã¯é–‹å§‹ã•ã‚Œã¾ã›ã‚“ã€‚

ãã®å¾Œã€`moveIn`é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦`steph`ã‚’ã‚·ãƒ¼ãƒ³ã«ç§»å‹•ã•ã›ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®`tickerId`ã‚’æ¸¡ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ãŒå®Œäº†ã—ãŸå¾Œã«å†é–‹ã§ãã¾ã™ã€‚

æ¬¡ã®`step`ãŒå®Ÿè¡Œã•ã‚Œã‚‹å‰ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Œäº†ã™ã‚‹ã‚ˆã†ã«ã€`forceCompleteBeforeNext: true`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ `moveIn`ã¯ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã§ã‚ã‚‹ãŸã‚ã€`forceCompleteBeforeNext`ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§trueã§ã™ã€‚

ã“ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯TypeScriptã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã§ã€ä»–ã®è¨€èªã‹ã‚‰ã‚‚å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«`label`ã‚’ä½œæˆã—ã¾ã—ãŸã€‚

```ts title="labels/animation01.ts"
import { canvas, ImageContainer, moveIn, newLabel } from "@drincs/pixi-vn";

export const animation01 = newLabel("animation_01", [
    async () => {
        let tickerId = canvas.animate<ImageContainer>(
            "steph",
            {
                scaleX: 1,
            },
            { autoplay: false, forceCompleteBeforeNext: true }
        );

        await moveIn(
            "steph",
            {
                value: ["fm02-body", "fm02-eyes-joy", "fm02-mouth-smile01"],
                options: { xAlign: 0.8, yAlign: 1, scale: { y: 1, x: -1 }, anchor: 0.5 },
            },
            { direction: "right", ease: "easeInOut", tickerIdToResume: tickerId }
        );
    },
]);
```

<Callout type="info" title="ink">

As explained <DynamicLink href="/ink/labels#use-the-call-script">here</DynamicLink>, from _ink_ you can call `labels` written in JS/TS and vice versa.

</Callout>

ã“ã‚Œã§ã€ã“ã®`label`ï¼ˆ`animation_01`ï¼‰ã‚’ãƒ¡ã‚¤ãƒ³ã®`label`ï¼ˆ`start`ï¼‰ã‹ã‚‰å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚

```ink tab="ink" title="ink/start.ink" groupId="narrative_language"
=== start ===
// ...

# show imagecontainer james [m01-body m01-eyes-grin m01-mouth-grin00]
# show imagecontainer sly [fm01-body fm01-eyes-smile fm01-mouth-smile00]
# show imagecontainer steph [fm02-body fm02-eyes-upset fm02-mouth-nervous00]
# remove image steph with moveout direction left speed 300
[steph_fullname] goes through the opposite door,
# call animation_01
<> and returns with a HUGE tinfoil-covered platter.

// ...
-> DONE
```

```ts tab="Typescript" title="labels/startLabel.ts" groupId="narrative_language"
const startLabel = newLabel("start", [
    // ...
    async () => {
        await showImageContainer("james", ["m01-body", "m01-eyes-grin", "m01-mouth-grin00"]);
        await showImageContainer("sly", ["fm01-body", "fm01-eyes-smile", "fm01-mouth-smile00"]);
        await showImageContainer("steph", ["fm02-body", "fm02-eyes-upset", "fm02-mouth-nervous00"]);
        moveOut("steph", { direction: "left", speed: 300 });
        narration.dialogue = `${steph_fullname} goes through the opposite door,`;
    },
    async (props) => {
        narration.dialogGlue = true;
        narration.dialogue = ` and returns with a HUGE tinfoil-covered platter.`;
        await narration.call(animation01, props);
    },
    // ...
]);
export default startLabel;
```

<Comments>
## Use animations and effects or create your ticker

This page is under construction.

:::tabs

== ink example

```ink title="ink"

```

== Typescript example

```ts

```

:::

## Add music and sound effects

This page is under construction.

:::tabs

== ink example

```ink title="ink"

```

== Typescript example

```ts

```

::: -->

</Comments>

## Conclusion

ã•ã¦ã€ã“ã‚Œã§Pixiâ€™VNã‚’ä½¿ã£ã¦è¦–è¦šå°èª¬ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚ å¤§ããªåŠ›ã«ã¯å¤§ããªè²¬ä»»ãŒä¼´ã„ã¾ã™ã®ã§ã€è³¢ãä½¿ã„ç´ æ™´ã‚‰ã—ã„ç‰©èªã‚’å‰µé€ ã—ã¦ãã ã•ã„ï¼ ğŸš€

ã“ã¡ã‚‰ã¯æœ€å°é™ã®UIï¼ˆHTMLï¼‰ã‚’ä½¿ç”¨ã—ãŸã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªä¾‹ã§ã™ã€‚ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ã™ã‚‹ã¨ã€å®Œå…¨ãªUIï¼ˆReactãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰ã‚’ä½¿ç”¨ã—ãŸåŒã˜çµæœã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

<Tabs items={["ink", "Typescript"]} groupId="narrative_language">
<Tab>
<InkVisualNovelExample />
</Tab>
<Tab>
<TSVisualNovelExample />
</Tab>
</Tabs>

<iframe src="https://pixi-vn-react-template.web.app/"
    title="Visual Novel - React"
    style={{
        width: "100%",
        height: "400px",
        border: "0",
        borderRadius: "4px",
        overflow: "hidden",
    }}
    allowFullScreen={true}
></iframe>
