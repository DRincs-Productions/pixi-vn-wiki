---
title: Storage di gioco
description: How to store, retrieve, and manage persistent and temporary variables in Pixi’VN, including Keyv integration.
---

**Che cos'è lo storage di gioco? ** Lo storage di gioco è un luogo in cui è possibile salvare le variabili che si desidera conservare tra le sessioni di gioco.

It is essential to understand that if variables are not saved in the game memory, the engine will not be able to handle them when you <DynamicLink href="/start/save#load">load a save</DynamicLink> or when you <DynamicLink href="/start/labels-flow#go-back">go back</DynamicLink>.

Additionally, in the game archive you can save any type of variable, except `class` and `function` (because they cannot be converted to JSON), such as: `string`, `number`, `boolean`, `object`, `array`, etc. If you want to save "flags" (boolean), it is recommended to use the <DynamicLink href="/start/flags">flags functionality</DynamicLink>, a very high-performance flag management system.

## Set

To set a variable in the game storage, use `storage.setVariable`. Questa funzione ha i seguenti parametri:

- `name`: Il nome della variabile da impostare.
- `value`: Il valore della variabile da impostare.

```typescript
import { storage } from '@drincs/pixi-vn'

storage.setVariable("myVariable", 42);
```

## Ottieni

To get a variable from the game storage, use `storage.getVariable`. Questa funzione ha i seguenti parametri:

- `name`: Il nome della variabile da ottenere.

```typescript
import { storage } from '@drincs/pixi-vn'

const myVariable = storage.getVariable<number>("myVariable");
```

## Rimuovi

To remove a variable from the game storage, use `storage.removeVariable`. Questa funzione ha i seguenti parametri:

- `name`: Il nome della variabile da rimuovere.

```typescript
import { storage } from '@drincs/pixi-vn'

storage.removeVariable("myVariable");
```

## Storage temporaneo

In many cases, it is useful to use variables only during a certain period of the narrative. Using normal storage, you would need to manually remove these variables when they are no longer needed, to keep saves light and efficient.

Per risolvere questo problema, Pixi’VN dispone di un sistema di archiviazione temporanea. Temporary variables initialized in a `label` will be deleted when the `label` is closed. If another `label` is called from it, the temporary variable will still be accessible from the child `label`. However, if another `label` is called with `jump` (so the current `label` will be closed and the new one started), the temporary variable will no longer be accessible.

**Imposta una variabile temporanea**:

To set a temporary variable, use `storage.setTempVariable`. Questa funzione ha i seguenti parametri:

- `name`: Il nome della variabile da impostare.
- `value`: Il valore della variabile da impostare.

```typescript
import { storage } from '@drincs/pixi-vn'

storage.setTempVariable("myTempVariable", 42);
```

**Ottieni una variabile temporanea**:

To get a temporary variable, use the normal [`storage.getVariable` function](#get).

**Rimuovi una variabile temporanea**:

To remove a temporary variable, use `storage.removeTempVariable`. Questa funzione ha i seguenti parametri:

- `name`: Il nome della variabile da rimuovere.

```typescript
import { storage } from '@drincs/pixi-vn'

storage.removeTempVariable("myTempVariable");
```

## Variabili di sistema

Nello storage di gioco sono presenti alcune variabili di sistema utilizzate dal motore di gioco. Tutte le variabili di sistema iniziano con il prefisso `___`.
Si prega quindi di evitare di utilizzare questo prefisso nelle tue variabili.

È possibile ottenere tutte le chiavi delle variabili di sistema dalla costante `SYSTEM_RESERVED_STORAGE_KEYS`.

![keyv-h2](/keyv.svg)

## Keyv

The entire storage system was developed using `Map`, a native JavaScript object, so you can use Keyv to interact with game storage.

**Cos'è Keyv?** Keyv è un semplice sistema di archiviazione chiave-valore. È un sistema molto semplice da usare e molto popolare nella comunità Node.js. Keyv can be combined with other libraries, such as [Cacheable](https://cacheable.org/) (Caching for Node.js based on Keyv). Per saperne di più, visita il [sito web Keyv](https://keyv.org/).

**Come utilizzare Keyv con Pixi'VN?** È possibile utilizzare Keyv con Pixi'VN creando una nuova istanza di Keyv e passando lo storage come parametro.

```typescript
import { storage } from '@drincs/pixi-vn'
import Keyv from 'keyv';

const keyvStorage = new Keyv({ store: storage.storage });

keyvStorage.get<string>("myValue").then((value) => {
    console.log(value);
});
```
