---
title: UI screen examples
---

<Callout type="info">
All examples were created using basic HTML elements, you will need to replace them with UI components from your favorite library to improve the graphics.
</Callout>

## Narrative dialogue UI screen

For example:

```tsx tab="React"
import { useQueryDialogue } from "../hooks/useQueryInterface";
import ChoiceMenu from "./ChoiceMenu";

export default function NarrationScreen() {
    const { data: { text, character } = {} } = useQueryDialogue();

    return (
        <div
            style={{
                position: "absolute",
                display: "flex",
                flexDirection: "column",
                height: "100%",
                width: "100%",
            }}
        >
            <div style={{ flex: 1, minHeight: 0 }}>
                {/* READ THIS: https://pixi-vn.web.app/start/choices.html#how-to-create-the-choice-menu-ui-screen */}
                <ChoiceMenu />
            </div>
            {text && (
                <div
                    style={{
                        flex: "0 0 auto",
                        height: "30%",
                        minHeight: 0,
                        pointerEvents: "auto",
                        backgroundColor: "white",
                        display: "flex",
                        flexDirection: "column",
                        overflow: "hidden",
                    }}
                >
                    {character && character.name && <b>{`${character?.name || ""} ${character?.surname || ""}`}</b>}
                    <div
                        style={{
                            display: "flex",
                            flexDirection: "row",
                            height: "100%",
                            minHeight: 0,
                            overflow: "hidden",
                        }}
                    >
                        {character?.icon && (
                            <img
                                src={character?.icon}
                                loading='lazy'
                                alt=''
                                style={{
                                    maxWidth: "30%",
                                    height: "auto",
                                    objectFit: "contain",
                                    display: "block",
                                }}
                            />
                        )}
                        <div style={{ flex: 1, minHeight: 0, overflow: "auto", height: "100%" }}>{text}</div>
                    </div>
                </div>
            )}
        </div>
    );
}
```

```ts tab="hooks/useQueryInterface.ts"
import { CharacterBaseModel, narration } from "@drincs/pixi-vn";
import { useQuery } from "@tanstack/react-query";

export const INTERFACE_DATA_USE_QUEY_KEY = "interface_data_use_quey_key";

const DIALOGUE_USE_QUEY_KEY = "dialogue_use_quey_key";
export function useQueryDialogue() {
    return useQuery({
        queryKey: [INTERFACE_DATA_USE_QUEY_KEY, DIALOGUE_USE_QUEY_KEY],
        queryFn: async ({ queryKey }) => {
            let dialogue = narration.dialogue;
            let text = dialogue?.text;
            if (Array.isArray(text)) {
                text = text.join(" ");
            }
            let character = dialogue?.character as string | CharacterBaseModel | undefined;
            if (typeof character === "string") {
                character = new CharacterBaseModel(character, {
                    name: character,
                });
            }

            return {
                text,
                character,
            };
        },
    });
}
```

## Choice menu UI screen

For example:

```tsx tab="React"
import useNarrationFunctions from "../hooks/useNarrationFunctions";
import { useQueryChoiceMenuOptions } from "../hooks/useQueryInterface";

export default function ChoiceMenu() {
    const { data: menu = [] } = useQueryChoiceMenuOptions();
    const { selectChoice } = useNarrationFunctions();

    return (
        <div
            style={{
                display: "flex",
                flexDirection: "column",
                justifyContent: "center",
                alignItems: "center",
                width: "100%",
                height: "100%",
                overflow: "auto",
                gap: "8px",
                maxHeight: "100%",
                margin: 0,
                pointerEvents: menu?.length > 0 ? "auto" : "none",
            }}
        >
            {menu?.map((item, index) => (
                <button
                    key={"choice-" + index}
                    style={{
                        justifyContent: "center",
                        alignItems: "center",
                    }}
                    onClick={() => selectChoice(item)}
                >
                    {item.text}
                </button>
            ))}
        </div>
    );
}
```

```ts tab="hooks/useQueryInterface.ts"
import { CharacterBaseModel, narration } from "@drincs/pixi-vn";
import { useQuery } from "@tanstack/react-query";

export const INTERFACE_DATA_USE_QUEY_KEY = "interface_data_use_quey_key";

const CHOICE_MENU_OPTIONS_USE_QUEY_KEY = "choice_menu_options_use_quey_key";
export function useQueryChoiceMenuOptions() {
    return useQuery({
        queryKey: [INTERFACE_DATA_USE_QUEY_KEY, CHOICE_MENU_OPTIONS_USE_QUEY_KEY],
        queryFn: async () =>
            narration.choiceMenuOptions?.map((option) => ({
                ...option,
                text: typeof option.text === "string" ? option.text : option.text.join(" "),
            })) || [],
    });
}
```

```ts tab="hooks/useNarrationFunctions.ts"
import { narration, StoredIndexedChoiceInterface } from "@drincs/pixi-vn";
import { useQueryClient } from "@tanstack/react-query";
import { useCallback } from "react";
import { INTERFACE_DATA_USE_QUEY_KEY } from "./useQueryInterface";

export default function useNarrationFunctions() {
    const queryClient = useQueryClient();
    const gameProps = {};

    const selectChoice = useCallback(
        async (item: StoredIndexedChoiceInterface) => {
        return narration
            .selectChoice(item, gameProps)
            .then(() => queryClient.invalidateQueries({ queryKey: [INTERFACE_DATA_USE_QUEY_KEY] }))
            .catch((e) => console.error(e));
        },
        [gameProps, queryClient]
    );

    return {
        selectChoice,
    };
}
```
