---
title: Componenti del canvas
description: Panoramica dei componenti canvas integrati e personalizzati in Pixi'VN, incluse le funzionalità di estensione e memoria.
---

Pixi’VN fornisce un set di componenti canvas. Questi componenti estendono i componenti [Pixi.js](https://pixijs.com/), aggiungendo varie funzionalità, come la possibilità di salvare il loro stato attuale.

**Cosa sono i componenti canvas?** I componenti sono elementi costitutivi riutilizzabili per le app canvas, che consentono agli sviluppatori di app di creare controlli personalizzati da utilizzare all'interno di un'app o tra app utilizzando una libreria di componenti. I componenti possono utilizzare funzionalità avanzate, quali proprietà personalizzate, e abilitare capacità complesse.

## Componenti di base

I componenti disponibili sono:

- `Sprite` corrisponde al componente [`PixiJS.Sprite`](https://pixijs.com/8.x/guides/components/sprites).
- `Container` corrisponde al componente [`PixiJS.Container`](https://pixijs.com/8.x/guides/components/containers).
- <DynamicLink href="/start/canvas-image">ImageSprite</DynamicLink> è un componente introdotto da Pixi’VN.
- <DynamicLink href="/start/canvas-image-container">ImageContainer</DynamicLink> è un componente introdotto da Pixi’VN.
- <DynamicLink href="/start/canvas-video">VideoSprite</DynamicLink> è un componente introdotto da Pixi’VN.
- <DynamicLink href="/start/canvas-text">Text</DynamicLink> è un componente introdotto da Pixi’VN.

## Componenti personalizzati

È possibile creare componenti personalizzati estendendo i componenti di base. Per fare ciò, è necessario utilizzare il decorator `@canvasComponentDecorator`.

`@canvasComponentDecorator` is a decorator that saves the canvas component in memory (<DynamicLink href="/faq#enable-typescript-decorators">How to enable decorators in TypeScript?</DynamicLink>). Questa funzione ha i seguenti parametri:

- `name`: The id used by Pixi’VN to refer to this class (must be unique). Se non si passa l'id, verrà utilizzato come id il nome della classe.
- `getInstance`: A function that returns an instance of the canvas component. This function is used when restoring the canvas from memory. If not set, it will use the default constructor of the class.
- `copyProperty`: A function that copies the properties of the canvas component. This function is used when copying the properties of the canvas component into another instance of the same canvas component. This function is used when copying the canvas component properties into another instance of the same canvas component.

È necessario sovrascrivere la proprietà `memory` per memorizzare le proprietà del componente personalizzato.
In `get memory()`, è molto importante restituire la proprietà `className`; questa proprietà deve essere uguale all'id utilizzato nel decorator.

Ad esempio, è possibile creare una classe `AlienTinting` che estende la classe `Sprite` per gestire la direzione e la velocità di ogni singolo alieno in un'animazione.

```typescript title="canvas/components/AlienTinting.ts"
const ALIEN_TINTING_TEST_ID = "AlienTintingTest"
@canvasComponentDecorator({
    name: ALIEN_TINTING_TEST_ID,
})
class AlienTintingTest extends Sprite<IAlienTintingMemory> {
    override get memory() {
        return {
            ...super.memory,
            direction: this.direction,
            turningSpeed: this.turningSpeed,
            speed: this.speed,
            className: "AlienTintingTest",
        }
    }
    override setMemory(memory: IAlienTintingMemory) {
        super.memory = memory as ICanvasSpriteMemory
        this.direction = memory.direction
        this.turningSpeed = memory.turningSpeed
        this.speed = memory.speed
    }
    direction: number = 0
    turningSpeed: number = 0
    speed: number = 0
    static override from(source: Texture | TextureSourceLike, skipCache?: boolean) {
        let sprite = Sprite.from(source, skipCache)
        let mySprite = new AlienTintingTest()
        mySprite.texture = sprite.texture
        return mySprite
    }
}
```
