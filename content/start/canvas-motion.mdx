---
title: Animate (motion)
---
import { Accordion, Accordions } from 'fumadocs-ui/components/accordion';
import { MoveExample, RotateExample, FadeExample, ZoomExample, MirrorExample } from "@/components/examples";

Pixi’VN gives the developer the ability to animate canvas components using a function called `animate`. This function is nothing more than a re-implementation of the [animate function from the motion library](https://motion.dev/docs/animate). This re-implementation uses PixiJS tickers to trigger animation events.

**What is motion?** `motion` is a library that provides a simple, powerful and popular way to create animations in JavaScript. You can read more about it [here](https://motion.dev/).

There are two variants of this function:

* `animate`: This function is intended for animating PixiJS or Pixi’VN elements used for <DynamicLink href="/start/interface-pixijs">UI</DynamicLink>. Pixi’VN will not save the current state of animations created with this function. Since it is identical to [motion’s animate function](https://motion.dev/docs/animate), it will not be explained further.
* `canvas.animate`: This function is intended for animating Pixi’VN canvas components. It will save the current state of animations created with this function, so you can use it to create transitions between different states of your game. This feature has some differences from the original `animate` function, so it will be explained in detail.

## Usage

How `canvas.animate` works is as follows: the developer defines a state that the component must reach (for example, the component's x-y position). Once the animation starts, an event will be continuously triggered that will modify the component until it reaches the user-defined state. Furthermore, the developer can customize the animation with unique effects using the options.
This function has the following parameters:

* `components`: The PixiJS component(s) to animate. It can be a single component, an array of components, or a string representing the <DynamicLink href="/start/canvas-alias">component's alias</DynamicLink>.
* `keyframes`: The keyframes to animate the component(s) with. It is an object that contains the properties to animate and their values at different points in time.
* `options`: Additional options for the animation, including duration, easing, and ticker. The following options have been added to `motion`:
  * `aliasToRemoveAfter` (Optional): is a string[] that contains the aliases of the <DynamicLink href="/start/canvas-components">canvas component</DynamicLink> that will be removed after the animation is completed.
  * `tickerIdToResume` (Optional): is a string that contains the ticker id that will be resumed after the animation is completed.
  * `tickerAliasToResume` (Optional): in case you want to continue some tickers that were previously paused, you can pass the aliases of the canvas components that have the tickers to be resumed.
  * `forceCompleteBeforeNext` (Optional): is a boolean that indicates if the animation must be completed before the next step of the game. If set to `true`, the game will force the animation to complete before moving to the next step.
* `priority`: The priority of the PixiJS ticker. It is an optional parameter that can be used to set the priority of the ticker. The default value is `UPDATE_PRIORITY.NORMAL`.

This function will return the id of the ticker that was created to animate the component(s).

Here are some examples:

<Accordions>

<Accordion title="Move" id="move">

```ts tab="labels/startLabel.ts"
import { canvas, ImageSprite, newLabel, showImage } from "@drincs/pixi-vn";

export const startLabel = newLabel("start_label", [
    async () => {
        const alien = await showImage("alien"); // [!code focus]
        canvas.animate(alien, { xAlign: 1, yAlign: 0 }, { ease: "easeOut" }); // [!code focus]
    },
    () => canvas.animate<ImageSprite>("alien", { xAlign: 1, yAlign: 1 }, { ease: "backOut" }), // [!code focus]
    () => canvas.animate<ImageSprite>("alien", { xAlign: 0, yAlign: 1 }, { ease: "circIn" }), // [!code focus]
    () => canvas.animate<ImageSprite>("alien", { xAlign: 0, yAlign: 0 }, { ease: "linear" }), // [!code focus]
]);
```

```ts tab="assets/manifest.ts"
import { AssetsManifest } from "@drincs/pixi-vn";

/**
 * Manifest for the assets used in the game.
 * You can read more about the manifest here: https://pixijs.com/8.x/guides/components/assets#loading-multiple-assets
 */
const manifest: AssetsManifest = {
    bundles: [
        {
            name: "start",
            assets: [
                {
                    alias: "alien",
                    src: "https://pixijs.com/assets/eggHead.png",
                },
            ],
        },
    ],
};
export default manifest;
```

<MoveExample />

</Accordion>

<Accordion title="Rotate" id="rotate">

```ts tab="labels/startLabel.ts"
import { canvas, newLabel, showImage } from "@drincs/pixi-vn";

export const startLabel = newLabel("start_label", [
    async () => {
        const alien = await showImage("alien", "alien", { align: 0.5, anchor: 0.5 }); // [!code focus]
        canvas.animate(alien, { angle: 360 }, { duration: 1, type: "spring", repeat: Infinity, repeatDelay: 0.2 }); // [!code focus]
    },
]);
```

```ts tab="assets/manifest.ts"
import { AssetsManifest } from "@drincs/pixi-vn";

/**
 * Manifest for the assets used in the game.
 * You can read more about the manifest here: https://pixijs.com/8.x/guides/components/assets#loading-multiple-assets
 */
const manifest: AssetsManifest = {
    bundles: [
        {
            name: "start",
            assets: [
                {
                    alias: "alien",
                    src: "https://pixijs.com/assets/eggHead.png",
                },
            ],
        },
    ],
};
export default manifest;
```

<RotateExample />

</Accordion>

<Accordion title="Fade" id="fade">

```ts tab="labels/startLabel.ts"
import { canvas, newLabel, showImage } from "@drincs/pixi-vn";

export const startLabel = newLabel("start_label", [
  async () => {
    const alien = await showImage("alien", "alien", { align: 0.5, anchor: 0.5, alpha: 0 }); // [!code focus]
    canvas.animate(alien, { alpha: 1 }, { ease: "linear", duration: 1 }); // [!code focus]
  },
]);
```

```ts tab="assets/manifest.ts"
import { AssetsManifest } from "@drincs/pixi-vn";

/**
 * Manifest for the assets used in the game.
 * You can read more about the manifest here: https://pixijs.com/8.x/guides/components/assets#loading-multiple-assets
 */
const manifest: AssetsManifest = {
    bundles: [
        {
            name: "start",
            assets: [
                {
                    alias: "alien",
                    src: "https://pixijs.com/assets/eggHead.png",
                },
            ],
        },
    ],
};
export default manifest;
```

<FadeExample />

</Accordion>

<Accordion title="Zoom" id="zoom">

```ts tab="labels/startLabel.ts"
import { canvas, newLabel, showImage } from "@drincs/pixi-vn";

export const startLabel = newLabel("start_label", [
    async () => {
        const alien = await showImage("alien", "alien", { align: 0.5, anchor: 0.5, scale: 0 }); // [!code focus]
        canvas.animate(alien, { scaleX: 1, scaleY: 1 }, { ease: "circInOut", duration: 1 }); // [!code focus]
    },
]);
```

```ts tab="assets/manifest.ts"
import { AssetsManifest } from "@drincs/pixi-vn";

/**
 * Manifest for the assets used in the game.
 * You can read more about the manifest here: https://pixijs.com/8.x/guides/components/assets#loading-multiple-assets
 */
const manifest: AssetsManifest = {
    bundles: [
        {
            name: "start",
            assets: [
                {
                    alias: "alien",
                    src: "https://pixijs.com/assets/eggHead.png",
                },
            ],
        },
    ],
};
export default manifest;
```

<ZoomExample />

</Accordion>

<Accordion title="Mirror" id="mirror">

```ts tab="labels/startLabel.ts"
import { canvas, newLabel, showImage } from "@drincs/pixi-vn";

export const startLabel = newLabel("start_label", [
    async () => {
        const alien = await showImage("alien", "alien", { align: 0.5, anchor: 0.5 }); // [!code focus]
        canvas.animate(alien, { scaleX: -1 }); // [!code focus]
    },
    () => canvas.animate("alien", { scaleX: 1 }), // [!code focus]
]);
```

```ts tab="assets/manifest.ts"
import { AssetsManifest } from "@drincs/pixi-vn";

/**
 * Manifest for the assets used in the game.
 * You can read more about the manifest here: https://pixijs.com/8.x/guides/components/assets#loading-multiple-assets
 */
const manifest: AssetsManifest = {
    bundles: [
        {
            name: "start",
            assets: [
                {
                    alias: "alien",
                    src: "https://pixijs.com/assets/eggHead.png",
                },
            ],
        },
    ],
};
export default manifest;
```

<MirrorExample />

</Accordion>

</Accordions>

### Sequence

```ts tab="labels/startLabel.ts"
import { canvas, newLabel, showImage } from "@drincs/pixi-vn";

export const startLabel = newLabel("start_label", [
    async () => {
        const alien = await showImage("alien"); // [!code focus]
        canvas.animate( // [!code focus]
            alien, // [!code focus]
            { // [!code focus]
                xAlign: [0, 1, 1, 0, 0], // [!code focus]
                yAlign: [0, 0, 1, 1, 0], // [!code focus]
            }, // [!code focus]
            { repeat: Infinity, duration: 10 } // [!code focus]
        ); // [!code focus]
    },
]);
```

```ts tab="assets/manifest.ts"
import { AssetsManifest } from "@drincs/pixi-vn";

/**
 * Manifest for the assets used in the game.
 * You can read more about the manifest here: https://pixijs.com/8.x/guides/components/assets#loading-multiple-assets
 */
const manifest: AssetsManifest = {
    bundles: [
        {
            name: "start",
            assets: [
                {
                    alias: "alien",
                    src: "https://pixijs.com/assets/eggHead.png",
                },
            ],
        },
    ],
};
export default manifest;
```

```ts tab="labels/startLabel.ts"
import { canvas, newLabel, showImage } from "@drincs/pixi-vn";

export const startLabel = newLabel("start_label", [
    async () => {
        const alien = await showImage("alien"); // [!code focus]
        canvas.animate( // [!code focus]
            alien, // [!code focus]
            [ // [!code focus]
                [{ xAlign: 0, yAlign: 0 }, { ease: "circInOut" }], // [!code focus]
                [{ xAlign: 1, yAlign: 0 }, { ease: "backInOut" }], // [!code focus]
                [{ xAlign: 1, yAlign: 1 }, { ease: "linear" }], // [!code focus]
                [{ xAlign: 0, yAlign: 1 }, { ease: "anticipate" }], // [!code focus]
                [{ xAlign: 0, yAlign: 0 }, { ease: "easeOut" }], // [!code focus]
            ], // [!code focus]
            { repeat: 10, duration: 10 } // [!code focus]
        ); // [!code focus]
    },
]);
```

```ts tab="assets/manifest.ts"
import { AssetsManifest } from "@drincs/pixi-vn";

/**
 * Manifest for the assets used in the game.
 * You can read more about the manifest here: https://pixijs.com/8.x/guides/components/assets#loading-multiple-assets
 */
const manifest: AssetsManifest = {
    bundles: [
        {
            name: "start",
            assets: [
                {
                    alias: "alien",
                    src: "https://pixijs.com/assets/eggHead.png",
                },
            ],
        },
    ],
};
export default manifest;
```

## Methods

`canvas.animate` function was created using Pixi’VN Tickers, so you can use all the <DynamicLink href="/start/canvas-tickers-functions">functions used to control Pixi’VN Tickers</DynamicLink>.
