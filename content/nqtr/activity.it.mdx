---
title: Activity
---

import { Accordion, Accordions } from 'fumadocs-ui/components/accordion';

## Inizializzare

To initialize a `activity`, create a new instance of the `ActivityBaseModel` class (or your [custom class](#custom-class)) and add it to the game activity dictionary when the game is initialized.

<Callout type="info">

It is recommended to import the instances at project startup, see the `src/main.ts` file.

</Callout>

To create a new instance of `ActivityBaseModel`, you need the following parameters:

- `id`: Un identificatore univoco (stringa). Used to reference the `activity` in the game (must be unique).
- `onRun`: A function that is called when the `activity` is run. It receives two parameters:
  - The `activity` instance itself.
  - `props`: the properties that will be passed to the activity. Its interface corresponds to [`OnRunProps`](#override-onrunprops).
- `props`: An object with the activity's properties:
  - `name`: The name of the activity (optional).
  - `timeSlot`: The time slot in which the activity will be active (optional).
  - `dateScheduling`: Used to schedule what date it will be added and removed (optional).
  - `disabled`: Whether the activity is disabled. You can also pass a Pixi'VN flag name (optional, default is `false`).
  - `hidden`: Whether the activity is hidden. You can also pass a Pixi'VN flag name (optional, default is `false`).
  - `renderIcon`: The icon of the activity (optional).

```ts tab="values/activities.ts"
import { ActivityBaseModel, RegisteredActivities, timeTracker } from "@drincs/nqtr";
import { narration } from "@drincs/pixi-vn";
import { napLabel, sleepLabel } from "../labels/sleepNapLabels";
import { orderProductLabel, takeKeyLabel } from "../labels/variousActionsLabels";

export const bed = new ActivityBaseModel(
    "bed",
    async (_, props) => {
        if (timeTracker.nowIsBetween(5, 22)) {
            await narration.jumpLabel(napLabel, props);
        } else {
            await narration.jumpLabel(sleepLabel, props);
        }
    },
    {
        name: "bed",
    }
);

export const orderProduct = new ActivityBaseModel(
    "order_product",
    async (_, props) => await narration.jumpLabel(orderProductLabel, props),
    {
        name: "order_product",
    }
);

export const takeProduct = new ActivityBaseModel(
    "take_product",
    async (_, props) => await narration.jumpLabel(takeKeyLabel, props),
    {
        name: "take_product",
    }
);

RegisteredActivities.add([bed, orderProduct, takeProduct]);
```

```ts tab="src/main.ts"
import "./values/activities";

// ...
```

`RegisteredActivities.add` is **required** to save the `activities` in the game.

You can also create a function to load `activities`. The important thing is that it is called at least once before the `activities` are used in the game, otherwise they will not be available.

## Ottieni

To get a `activity` by its `id`, use the `RegisteredActivities.get` function.

```ts
import { RegisteredActivities } from "@drincs/nqtr";

const orderProduct = RegisteredActivities.get('order_product');
```

## Ottieni tutti

To get all `activities`, use the `RegisteredActivities.values` function.

```ts
import { RegisteredActivities } from "@drincs/nqtr";

const activities = RegisteredActivities.values();
```

## Classe personalizzata
